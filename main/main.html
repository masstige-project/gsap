<? include "../include/head.html" ?>
<!DOCTYPE html>
<html lang="<?=$P_lang?>">
	<head>
		<?
    $P_dp0 = 'main';
    include "../include/meta.html" 
    ?>
		<link rel="stylesheet" href="../assets/css/main.min.css" />
		<link rel="stylesheet" href="../assets/css/ani.css" />
	</head>

	<body class="main-body" style="max-width: 1920px; margin: 0 auto; overflow-x: hidden">
		<? include "../include/header.html" ?>

		<main class="main" id="contents">
			<!-- S : main-visual -->
			<section class="main-visual fixani-section" id="mainvisual">
				<h1 class="sr-only">메인비주얼 영역</h1>
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide item">
							<div class="link">
								<div class="img-bx">
									<img class="d-none d-md-block" src="../assets/images/main/visual1.jpg" alt="img" />
									<img class="d-block d-md-none" src="../assets/images/main/visual1-m.jpg" alt="img" />
								</div>
								<div class="txt-bx">
									<div class="container">
										<!-- pc / mobile 따로 해줘야함. writing 클래스 사용 -->
										<h5>
											<svg width="600" height="200" viewBox="0 0 600 200" class="writing d-lg-inline-block d-none">
												<text x="0" y="65%">M</text>
												<text x="100" y="60%">A</text>
												<text x="170" y="60%">S</text>
												<text x="230" y="70%">S</text>
												<text x="290" y="65%">T</text>
												<text x="370" y="70%">I</text>
												<text x="390" y="66%">G</text>
												<text x="480" y="60%">E</text>
											</svg>
											<svg width="300" height="150" viewBox="0 0 300 150" class="writing d-lg-none">
												<text x="0" y="65%">M</text>
												<text x="50" y="60%">A</text>
												<text x="90" y="60%">S</text>
												<text x="120" y="70%">S</text>
												<text x="155" y="65%">T</text>
												<text x="200" y="70%">I</text>
												<text x="210" y="66%">G</text>
												<text x="250" y="60%">E</text>
											</svg>
										</h5>
										<h2 class="title d-block" style="opacity: 1">애니메이션 효과 공유</h2>
										<p class="text d-block" style="opacity: 1">퍼블팀 GSAP 및 기타 애니메이션 공유용 템플릿입니다.</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="scrollWrap">
					<div class="inner">
						<div class="box box--top">SCROLL DOWN</div>
						<div class="box box--bottom">
							<div class="scroll-downs">
								<div class="mousey">
									<div class="scroller"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : main-visual -->

			<!-- S : section -->
			<section class="section section-01 py-25">
				<div class="border-bottom"></div>
				<div class="container">
					<div class="titlebx">
						<p class="text pb-5">오른쪽에서 왼쪽으로 나오는 GSAP입니다.</p>
					</div>

					<div class="icnWrap">
						<div class="FlxWrap">
							<div class="d-flex align-items-center justify-content-center">
								<img src="../assets/images/main/footer-logo.png" alt="" />
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : section -->
			<section class="section section-02">
				<div class="container">
					<!-- card -->
					<div class="CardWrap">
						<div class="inner">
							<div class="inner--left" data-aos="fade-down">
								<div class="box">
									<p class="Top">
										왼쪽에서 오른쪽으로<br />
										나오는 GSAP 입니다.
									</p>
								</div>
							</div>
							<div class="inner--right" data-aos="fade-up">
								<ul class="cardbx">
									<li class="cardbx--list">
										<a href="../comein/comein.html" class="link">
											<div class="box">
												<p class="Tit">제목</p>
											</div>
											<div class="img-bx">
												<img src="../assets/images/main/logo-2.png" alt="logo" />
												<p class="title">왼->오 GSAP</p>
											</div>
										</a>
									</li>
									<li class="cardbx--list">
										<a href="../show/show.html" class="link">
											<div class="box">
												<p class="Tit">제목</p>
											</div>
											<div class="img-bx">
												<img src="../assets/images/main/logo-2.png" alt="logo" />
												<p class="title">왼->오 GSAP</p>
											</div>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>

					<div class="MarketingWrap">
						<div class="Mktbx">
							<div class="Mktbx--left">
								<div class="category-bx">
									<div class="cate cate--1">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-1.png" alt="icn" />
											<a href=""> 인스타그램 </a>
										</div>
									</div>
									<div class="cate cate--2">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-2.png" alt="icn" />
											<a href=""> 유튜브 </a>
										</div>
									</div>
									<div class="cate cate--3">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-3.png" alt="icn" />
											<a href=""> 플레이스 </a>
										</div>
									</div>
									<div class="cate cate--4">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-4.png" alt="icn" />
											<a href=""> 블로그 </a>
										</div>
									</div>
									<div class="cate cate--5">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-5.png" alt="icn" />
											<a href="" class="pt-2"> 페이스북 </a>
										</div>
									</div>
								</div>
							</div>
							<div class="Mktbx--right">
								<div class="MkText">
									<p class="top">
										클래스 <span>각각</span> 적용하는 <br />
										<span> GSAP</span>
									</p>
									<p class="bottom pt-3 pt-sm-1">아래 스크립트 참고</p>
									<a href="#" class="link border-0"></a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<section class="section section-03">
				<div class="container section--pin">
					<div class="section-03--1">
						<div class="TitleBx pt-40">
							<p class="tit"><span>Pin 옵션 사용</span>한</p>
							<p class="tit pt-4">스크롤 애니메이션</p>
						</div>

						<ul class="Countbx">
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">1</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">1</span><span class="right-tit">위</span></p>
									</div>
									<div class="position-r">
										<p class="bottom-tit">Animation</p>
									</div>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">1</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">1</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : section -->
			<section class="section section-04" style="background-color: #3a078dba">
				<div class="container">
					<div class="TitleBx text-center pt-30 font-weight-bold">
						<p class="tit"><span>날라오는</span></p>
						<p class="tit pt-4">스크롤 애니메이션</p>
					</div>
					<div class="position-relative" style="height: 900px">
						<img class="rocket" src="../assets/images/main/rocket.png" alt="" style="width: 250px; transform: translate(1920px, 100%)" />
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : 이미지 그려지는 효과 -->
			<section class="section section-05">
				<div class="container">
					<div class="TitleBx text-center pt-30 pb-5 font-weight-bold">
						<p class="tit"><span style="color: #6610f2">이미지가 그려지는</span></p>
						<p class="tit pt-4">스크롤 애니메이션</p>
					</div>
					<div class="d-flex align-items-center justify-content-center pb-30">
						<svg class="svg-animation" width="1000" height="800" viewBox="0 0 1000 800">
							<!-- SVG 레이어 -->
							<path id="layer" fill="none" stroke="#6610f2" stroke-width="2" stroke-dasharray="1000" stroke-dashoffset="1000" d="M10 480 C 240 10, 365 10, 405 180 S 550 550, 980 480" />
						</svg>
						<div class="pb-30"></div>
					</div>
				</div>
			</section>
			<!-- E : 이미지 그려지는 효과 -->
		</main>

		<? include "../include/footer.html" ?>
		<? include "../include/js.html" ?>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
		<script>
			/* GSAP 시작 */
			gsap.registerPlugin(ScrollTrigger);

			/* 오른쪽에서 시작 */
			const section01 = gsap.from('.section-01', {
				x: '150%', // 오른쪽에서 시작
				opacity: 0, // 초기에 숨김
				duration: 1, // 애니메이션 지속 시간
				ease: 'power4.out', // 이징 함수
			});
			// ScrollTrigger 설정
			ScrollTrigger.create({
				trigger: '.section-01', // 애니메이션을 트리거하는 요소
				start: 'top 100%', // 트리거가 화면의 100%에 도달하면 애니메이션 시작
				animation: section01, // 재생할 애니메이션
				scrub: true, // 스크롤 위치에 따라 애니메이션 조정
			});

			/* 왼쪽에서 시작 */
			const section02 = gsap.from('.CardWrap', {
				x: '-100%', // 왼쪽에서 시작
				opacity: 0, // 초기에 숨김
				duration: 1, // 애니메이션 지속 시간
				ease: 'power4.out', // 이징 함수
			});
			// ScrollTrigger 설정
			ScrollTrigger.create({
				trigger: '.CardWrap', // 애니메이션을 트리거하는 요소
				start: 'top 100%', // 트리거가 화면의 100%에 도달하면 애니메이션 시작
				animation: section02, // 재생할 애니메이션
				scrub: true, // 스크롤 위치에 따라 애니메이션 조정
			});

			/* Pin 옵션 사용한 애니메이션 */
			const liElm = document.querySelectorAll('.Countbx--list');
			// 반응형에서만 사용할 경우
			// ScrollTrigger.matchMedia({
			// 	'(min-width: 768px)': () => {
			ScrollTrigger.create({
				trigger: '.section-03--1', // 애니메이션을 트리거하는 요소
				end: 'bottom bottom', // 트리거가 화면의 바닥에 도달하면
				pin: '.section-03--1 .TitleBx', // pin 하는 요소
				pinSpacing: false, // 고정되는 엘리먼트에 padding 없애기
			});
			liElm.forEach((item) => {
				gsap.set(item, { yPercent: 20, opacity: 0 });
				ScrollTrigger.create({
					trigger: item,
					start: 'top center',
					invalidateOnRefresh: true,
					onEnter: () => {
						gsap.to(item, { yPercent: 0, opacity: 1 });
					},
					onLeaveBack: () => {
						gsap.to(item, { yPercent: 20, opacity: 0 });
					},
				});
			});
			// 	},
			// });

			/* 아래에서 위로 떠오르게 */
			// 같은 클래스 각각 each 적용
			ScrollTrigger.batch('.category-bx .cate', {
				onEnter: (batch) => {
					gsap.from(batch, {
						y: '100%',
						opacity: 0,
						duration: 1,
						ease: 'power4.out',
					});
				},
				scrub: true,
			});

			/* 사선에서 날라오기 */
			const rocket = document.querySelector('.section-04 .rocket');
			// ScrollTrigger 설정
			gsap.to(rocket, {
				x: '-150%',
				y: '0%',
				opacity: 1,
				duration: 1,
				ease: 'power4.out',
				scrollTrigger: {
					trigger: '.section-04',
					pin: true,
					start: 'top top', // 트리거 위치 설정
					end: 'bottom 30%', // 트리거가 끝나는 위치 설정
					scrub: true, // scrub 옵션 활성화
				},
			});

			/* 이미지 그려지는 듯한 효과 */
			var path = document.getElementById('layer');
			var length = path.getTotalLength();

			path.style.strokeDasharray = length;
			path.style.strokeDashoffset = length;

			gsap.to(path, {
				strokeDashoffset: 0,
				duration: 2,
				ease: 'power2.out',
				scrollTrigger: {
					trigger: '.section-05',
					pin: true,
					start: 'top top',
					end: 'bottom 20%',
					scrub: true,
				},
			});
		</script>
	</body>
</html>
