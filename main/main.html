<? include "../include/head.html" ?>
<!DOCTYPE html>
<html lang="<?=$P_lang?>">
	<head>
		<?
    $P_dp0 = 'main';
    include "../include/meta.html" 
    ?>
		<link rel="stylesheet" href="../assets/css/main.min.css" />
		<link rel="stylesheet" href="../assets/css/ani.css" />
	</head>

	<body class="main-body" style="max-width: 1920px; margin: 0 auto; overflow-x: hidden">
		<? include "../include/header.html" ?>

		<main class="main" id="contents">
			<!-- S : main-visual -->
			<section class="main-visual fixani-section" id="mainvisual">
				<h1 class="sr-only">메인비주얼 영역</h1>
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide item">
							<div class="link">
								<div class="img-bx">
									<img class="d-none d-md-block" src="../assets/images/main/visual1.jpg" alt="img" />
									<img class="d-block d-md-none" src="../assets/images/main/visual1-m.jpg" alt="img" />
								</div>
								<div class="txt-bx">
									<div class="container">
										<!-- pc / mobile 따로 해줘야함. writing 클래스 사용 -->
										<h5>
											<svg width="600" height="200" viewBox="0 0 600 200" class="writing d-lg-inline-block d-none">
												<text x="0" y="65%">M</text>
												<text x="100" y="60%">A</text>
												<text x="170" y="60%">S</text>
												<text x="230" y="70%">S</text>
												<text x="290" y="65%">T</text>
												<text x="370" y="70%">I</text>
												<text x="390" y="66%">G</text>
												<text x="480" y="60%">E</text>
											</svg>
											<svg width="300" height="150" viewBox="0 0 300 150" class="writing d-lg-none">
												<text x="0" y="65%">M</text>
												<text x="50" y="60%">A</text>
												<text x="90" y="60%">S</text>
												<text x="120" y="70%">S</text>
												<text x="155" y="65%">T</text>
												<text x="200" y="70%">I</text>
												<text x="210" y="66%">G</text>
												<text x="250" y="60%">E</text>
											</svg>
										</h5>
										<h2 class="title d-block" style="opacity: 1">애니메이션 효과 공유</h2>
										<p class="text d-block" style="opacity: 1">퍼블팀 GSAP 및 기타 애니메이션 공유용 템플릿입니다.</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="scrollWrap">
					<div class="inner">
						<div class="box box--top">SCROLL DOWN</div>
						<div class="box box--bottom">
							<div class="scroll-downs">
								<div class="mousey">
									<div class="scroller"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : main-visual -->

			<!-- S : section -->
			<section class="section section-01 py-25">
				<div class="border-bottom"></div>
				<div class="container">
					<div class="titlebx">
						<p class="text pb-5">오른쪽에서 왼쪽으로 나오는 GSAP입니다.</p>
					</div>

					<div class="icnWrap">
						<div class="FlxWrap">
							<div class="d-flex align-items-center justify-content-center">
								<img src="../assets/images/main/footer-logo.png" alt="" />
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : section -->
			<section class="section section-02">
				<div class="container">
					<!-- card -->
					<div class="CardWrap">
						<div class="inner">
							<div class="inner--left" data-aos="fade-down">
								<div class="box">
									<p class="Top">
										왼쪽에서 오른쪽으로<br />
										나오는 GSAP 입니다.
									</p>
								</div>
							</div>
							<div class="inner--right" data-aos="fade-up">
								<ul class="cardbx">
									<li class="cardbx--list">
										<a href="../comein/comein.html" class="link">
											<div class="box">
												<p class="Tit">제목</p>
											</div>
											<div class="img-bx">
												<img src="../assets/images/main/logo-2.png" alt="logo" />
												<p class="title">왼->오 GSAP</p>
											</div>
										</a>
									</li>
									<li class="cardbx--list">
										<a href="../show/show.html" class="link">
											<div class="box">
												<p class="Tit">제목</p>
											</div>
											<div class="img-bx">
												<img src="../assets/images/main/logo-2.png" alt="logo" />
												<p class="title">왼->오 GSAP</p>
											</div>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>

					<div class="MarketingWrap">
						<div class="Mktbx">
							<div class="Mktbx--left">
								<div class="category-bx">
									<div class="cate cate--1">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-1.png" alt="icn" />
											<a href=""> 인스타그램 </a>
										</div>
									</div>
									<div class="cate cate--2">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-2.png" alt="icn" />
											<a href=""> 유튜브 </a>
										</div>
									</div>
									<div class="cate cate--3">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-3.png" alt="icn" />
											<a href=""> 플레이스 </a>
										</div>
									</div>
									<div class="cate cate--4">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-4.png" alt="icn" />
											<a href=""> 블로그 </a>
										</div>
									</div>
									<div class="cate cate--5">
										<div class="d-flex align-items-center justify-content-center">
											<img src="../assets/images/main/cateicn-5.png" alt="icn" />
											<a href="" class="pt-2"> 페이스북 </a>
										</div>
									</div>
								</div>
							</div>
							<div class="Mktbx--right">
								<div class="MkText">
									<p class="top">
										클래스 <span>각각</span> 적용하는 <br />
										<span> GSAP</span>
									</p>
									<p class="bottom pt-3 pt-sm-1">아래 스크립트 참고</p>
									<a href="#" class="link border-0"></a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<section class="section section-03">
				<div class="container section--pin">
					<div class="section-03--1">
						<div class="TitleBx pt-40">
							<p class="tit"><span>Pin 옵션 사용</span>한</p>
							<p class="tit pt-4">스크롤 애니메이션</p>
						</div>

						<ul class="Countbx">
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">1</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">2</span><span class="right-tit">위</span></p>
									</div>
									<div class="position-r">
										<p class="bottom-tit">Animation</p>
									</div>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">4</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
							<li class="Countbx--list">
								<div class="inner">
									<div class="Title">
										<p class="top-tit"><span class="number counterup" data-counterup-time="400">3</span><span class="right-tit">위</span></p>
									</div>
									<p class="bottom-tit">Animation</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : section -->
			<section class="section section-04" style="background-color: #3a078dba">
				<div class="container">
					<div class="TitleBx text-center pt-30 font-weight-bold">
						<p class="tit"><span>날라오는</span></p>
						<p class="tit pt-4">스크롤 애니메이션</p>
					</div>
					<div class="position-relative" style="height: 900px">
						<img class="rocket" src="../assets/images/main/rocket.png" alt="" style="width: 250px; transform: translate(1920px, 100%)" />
					</div>
				</div>
			</section>
			<!-- E : section -->

			<!-- S : 이미지 그려지는 효과 -->
			<section class="section section-05">
				<div class="container">
					<div class="TitleBx text-center pt-30 pb-5 font-weight-bold">
						<p class="tit"><span style="color: #6610f2">이미지가 그려지는</span></p>
						<p class="tit pt-4">스크롤 애니메이션</p>
					</div>
					<div class="d-flex align-items-center justify-content-center pb-30">
						<!-- svg pc -->
						<svg class="svg-animation d-lg-block d-none" width="600" height="600" viewBox="0 0 600 600">
							<path id="sketch" fill="none" stroke="#6610f2" stroke-width="2" stroke-dasharray="1000" stroke-dashoffset="1000"
							d="M408.83,323.27c0,0-17.97,19.51-41.59,19.51s-65.72-3.59-74.96,5.13c-9.24,8.73-12.84,16.94-10.78,29.27
							c2.05,12.32,29.27,38,42.1,32.35c12.84-5.65-12.93-44.67-42.66-60.59c-29.73-15.92-139.1-42.62-133.45-70.34
							c4.11-10.78,24.65-10.27,27.21-5.65s-1.03,11.3-9.76,9.76c-8.73-1.54-30.29-10.78-33.89-22.08c-3.59-11.3-13.35-25.67-24.13-27.21
							S17.58,207.23,4.75,216.98s2.57,33.37,20.02,48.26c17.46,14.89,24.65,27.73,32.35,39.02c7.7,11.3,61.1,63.67,97.04,72.4
							s140.17,17.97,193.57-2.57s143.77-95.5,152.49-96.53c8.73-1.03,15.92,1.54,23.62,9.24c7.7,7.7,25.67,14.89,34.91,15.92
							c9.24,1.03,46.72,0,40.56-13.86s-40.56-43.64-58.02-39.54c-17.46,4.11-8.22,16.94-0.51,16.94s35.94-38,35.94-44.67
							c0-6.67-3.64-8.06-10.78-6.9c-38.49,6.28-95.5,66.97-118.61,70.57c-23.11,3.59-59.56,6.67-80.61-4.62
							c-6.16-2.05-13.35-4.11-27.21-1.54c-13.86,2.57-39.54,1.54-57.51-5.13c-17.97-6.67-107.31-58.02-125.28-64.18
							c-12.84-7.7-65.72-4.11-76.5-6.67s-66.75-8.22-77.02,6.16" />
						</svg>
						<!-- svg mobile -->
						<svg class="svg-animation d-lg-none" width="300" height="300" viewBox="0 0 300 300">
							<path id="sketch-m" fill="none" stroke="#6610f2" stroke-width="2" stroke-dasharray="1000" stroke-dashoffset="1000"
							d="M209.19,166.88c0,0-7.6,8.25-17.58,8.25c-9.98,0-27.78-1.52-31.69,2.17s-5.43,7.16-4.56,12.37
							c0.87,5.21,12.37,16.06,17.8,13.67c5.43-2.39-5.47-18.88-18.03-25.61c-12.57-6.73-58.8-18.01-56.41-29.73
							c1.74-4.56,10.42-4.34,11.5-2.39s-0.43,4.77-4.12,4.12s-12.81-4.56-14.32-9.33c-1.52-4.77-5.64-10.85-10.2-11.5
							c-4.56-0.65-37.77-11.07-43.19-6.95c-5.43,4.12,1.09,14.11,8.46,20.4c7.38,6.29,10.42,11.72,13.67,16.5
							c3.26,4.77,25.83,26.91,41.02,30.6c15.19,3.69,59.25,7.6,81.83-1.09s60.77-40.37,64.46-40.8c3.69-0.43,6.73,0.65,9.98,3.91
							c3.26,3.26,10.85,6.29,14.76,6.73c3.91,0.43,19.75,0,17.15-5.86c-2.6-5.86-17.15-18.45-24.53-16.71c-7.38,1.74-3.47,7.16-0.22,7.16
							s15.19-16.06,15.19-18.88c0-2.82-1.54-3.41-4.56-2.92c-16.27,2.66-40.37,28.31-50.14,29.83c-9.77,1.52-25.18,2.82-34.08-1.95
							c-2.6-0.87-5.64-1.74-11.5-0.65c-5.86,1.09-16.71,0.65-24.31-2.17c-7.6-2.82-45.36-24.53-52.96-27.13
							c-5.43-3.26-27.78-1.74-32.34-2.82s-28.22-3.47-32.56,2.6" />
						</svg>
						<div class="pb-30"></div>
					</div>
				</div>
			</section>
			<!-- E : 이미지 그려지는 효과 -->
		</main>

		<? include "../include/footer.html" ?>
		<? include "../include/js.html" ?>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
		<script>
			/* GSAP 시작 */
			gsap.registerPlugin(ScrollTrigger);

			/* 오른쪽에서 시작 */
			const section01 = gsap.from('.section-01', {
				x: '150%', // 오른쪽에서 시작
				opacity: 0, // 초기에 숨김
				duration: 1, // 애니메이션 지속 시간
				ease: 'power4.out', // 이징 함수
			});
			// ScrollTrigger 설정
			ScrollTrigger.create({
				trigger: '.section-01', // 애니메이션을 트리거하는 요소
				start: 'top 100%', // 트리거가 화면의 100%에 도달하면 애니메이션 시작
				animation: section01, // 재생할 애니메이션
				scrub: true, // 스크롤 위치에 따라 애니메이션 조정
			});

			/* 왼쪽에서 시작 */
			const section02 = gsap.from('.CardWrap', {
				x: '-100%', // 왼쪽에서 시작
				opacity: 0, // 초기에 숨김
				duration: 1, // 애니메이션 지속 시간
				ease: 'power4.out', // 이징 함수
			});
			// ScrollTrigger 설정
			ScrollTrigger.create({
				trigger: '.CardWrap', // 애니메이션을 트리거하는 요소
				start: 'top 100%', // 트리거가 화면의 100%에 도달하면 애니메이션 시작
				animation: section02, // 재생할 애니메이션
				scrub: true, // 스크롤 위치에 따라 애니메이션 조정
			});

			/* Pin 옵션 사용한 애니메이션 */
			const liElm = document.querySelectorAll('.Countbx--list');
			// 반응형에서만 사용할 경우
			// ScrollTrigger.matchMedia({
			// 	'(min-width: 768px)': () => {
			ScrollTrigger.create({
				trigger: '.section-03--1', // 애니메이션을 트리거하는 요소
				end: 'bottom bottom', // 트리거가 화면의 바닥에 도달하면
				pin: '.section-03--1 .TitleBx', // pin 하는 요소
				pinSpacing: false, // 고정되는 엘리먼트에 padding 없애기
			});
			liElm.forEach((item) => {
				gsap.set(item, { yPercent: 20, opacity: 0 }); // 트리거 요소 첫 셋팅
				ScrollTrigger.create({
					trigger: item, // 트리거 요소
					start: 'top center', // 트리거 요소의 상단이 중간쯤 왔을 때 시작
					invalidateOnRefresh: true, // 새로고침시 재설정
					onEnter: () => {
						// 트리거 요소가 화면에 들어오면
						gsap.to(item, { yPercent: 0, opacity: 1 });
					},
					onLeaveBack: () => {
						// 트리거 요소가 화면에서 나가면
						gsap.to(item, { yPercent: 20, opacity: 0 });
					},
				});
			});
			// 	},
			// });

			/* 아래에서 위로 떠오르게 */
			// 같은 클래스 각각 each 적용
			ScrollTrigger.batch('.category-bx .cate', {
				onEnter: (batch) => {
					gsap.from(batch, {
						y: '100%',
						opacity: 0,
						duration: 1,
						ease: 'power4.out',
					});
				},
				scrub: true,
			});

			/* 사선에서 날라오기 */
			const rocket = document.querySelector('.section-04 .rocket');
			// ScrollTrigger 설정
			gsap.to(rocket, {
				x: '-160%',
				y: '0%',
				opacity: 1,
				duration: 1,
				ease: 'power4.out',
				scrollTrigger: {
					trigger: '.section-04',
					pin: true,
					start: 'top top', // 트리거 위치 설정
					end: 'bottom 30%', // 트리거가 끝나는 위치 설정
					scrub: true, // scrub 옵션 활성화
				},
			});

			/* 이미지 그려지는 듯한 효과 */
			var path = document.getElementById('sketch');
			var length = path.getTotalLength();

			path.style.strokeDasharray = length;
			path.style.strokeDashoffset = length;

			gsap.to(path, {
				strokeDashoffset: 0,
				duration: 2,
				ease: 'power2.out',
				scrollTrigger: {
					trigger: '.section-05',
					pin: true,
					start: 'top top',
					end: 'bottom 20%',
					scrub: true,
				},
			});
			var pathM = document.getElementById('sketch-m');
			var lengthM = pathM.getTotalLength();

			pathM.style.strokeDasharray = lengthM;
			pathM.style.strokeDashoffset = lengthM;

			gsap.to(pathM, {
				strokeDashoffset: 0,
				duration: 2,
				ease: 'power2.out',
				scrollTrigger: {
					trigger: '.section-05',
					pin: true,
					start: 'top top',
					end: 'bottom 20%',
					scrub: true,
				},
			});
		</script>
	</body>
</html>
