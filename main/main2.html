<? include "../include/head.html" ?>
<!DOCTYPE html>
<html lang="<?=$P_lang?>">
	<head>
		<?
    $P_dp0 = 'main';
    include "../include/meta.html" 
    ?>
		<link rel="stylesheet" href="../assets/css/main.min.css" />
		<link rel="stylesheet" href="../assets/css/ani.css" />
	</head>

	<body class="main-body" style="max-width: 1920px; margin: 0 auto; overflow-x: hidden">
		<? include "../include/header.html" ?>

		<main class="main" id="contents parallax__cont">
      <section id="section2" class="parallax__item">
        <div class="parallax__item__img i1"></div>
        <div class="parallax__item__img i2"></div>
        <div class="parallax__item__img i3"></div>
      </section>
      <!-- //section2 -->

      <section id="section3" class="parallax__item">
        <div class="parallax__item__img"></div>
        <div class="parallax__item__img"></div>
        <div class="parallax__item__img"></div>
        <div class="parallax__item__img"></div>
        <div class="parallax__item__img"></div>
        <div class="parallax__item__img"></div>
      </section>
      <!-- //section3 -->

      <section id="section4" class="parallax__item">
        <img class="ani-img" src="../assets/images/main/rocket.png" alt="">
      </section>
      <!-- //section3 -->

      <section id="section5" class="parallax__item">
        <div class="parallax__item__text t1">section5</div>
        <div class="parallax__item__text t2">section5</div>
        <div class="parallax__item__text t3">section5</div>
        <div class="parallax__item__text t4">section5</div>
      </section>
      <!-- //section5 -->

      <section id="section6" class="parallax__item">
        <div class="parallax__item__text">section6</div>
      </section>
      <!-- //section6 -->

      <section id="section7" class="parallax__item">
        <div class="parallax__item__text t1">매스티지</div>
        <div class="parallax__item__text t2">퍼블리싱</div>
        <div class="parallax__item__text t3">웹에이전시협회 소속</div>
      </section>
      <!-- //section7 -->

      <section id="section8" class="parallax__item">
        <div class="parallax__item__text t1">section8 title1</div>
        <div class="parallax__item__text t2">section8 title2</div>
        <div class="parallax__item__text t3">section8 title3</div>
        <div class="parallax__item__img i1"></div>
      </section>
      <!-- //section8 -->      

      <section id="section9" class="parallax__item">
        <img class="ani-img" src="../assets/images/main/rocket.png" alt="">
      </section>
      <!-- //section9 -->      
		</main>

		<? include "../include/footer.html" ?>
		<? include "../include/js.html" ?>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
		<script>
			/* GSAP 시작 */
			gsap.registerPlugin(ScrollTrigger);

      // 02 : 이미지 순차적으로 나오기
      const ani2 = gsap.timeline();
      ani2.from("#section2 .i1", {y: -100, autoAlpha:0, borderRadius: 200})
          .from("#section2 .i2", {y: 100, autoAlpha:0, borderRadius: 200})
          .from("#section2 .i3", {y: -100, autoAlpha:0, borderRadius: 200});
      ScrollTrigger.create({
          animation: ani2,
          trigger: "#section2",
          start: "top top",
          end: "+=2000",
          scrub: true,
          pin: true,
          anticipatePin: 1,
          markers: false
      });

      // 03 : 이미지 랜덤으로 떨어지기
      const ani3 = gsap.timeline();
      ani3.from("#section3 .parallax__item__img", {
          autoAlpha: 0,
          y: -100,
          ease: "back.out(4)",
          stagger: {
              amount: 3,
              from: "random"
          }
      })
      ScrollTrigger.create({
          animation: ani3,
          trigger: "#section3",
          start: "top top",
          end: "+=3000",
          scrub: true,
          pin: true,
          markers: false,
          anticipatePin: 1
      });

      // 04 : 이미지 축소하기
      const ani4 = gsap.timeline();
      ani4.from("#section4 .ani-img", {
          autoAlpha:0, 
          scale: 5,
          width: "100vw",
          height: "100vh"
      })

      ScrollTrigger.create({
          animation: ani4,
          trigger: "#section4",
          start: "top top",
          end: "+=3000",
          scrub: true,
          pin: true,
          markers: false,
          anticipatePin: 1
      });

      // 05 : 텍스트 애니메이션
      const ani5 = gsap.timeline();
      ani5.to("#section5 .t1", {xPercent: 300}, "text")
          .to("#section5 .t2", {xPercent: -300}, "text")
          .to("#section5 .t3", {xPercent: 300}, "text")
          .to("#section5 .t4", {xPercent: -300}, "text")
      ScrollTrigger.create({
          animation: ani5,
          trigger: "#section5",
          start: "top top",
          end: "+=3000",
          scrub: true,
          pin: true,
          markers: true,
          anticipatePin: 1
      });

      // 06 : 텍스트 확대하기
      const ani6 = gsap.timeline();
      ani6.to("#section6 .parallax__item__text", {scale: 40, duration: 3, autoAlpha: 1})
          .to("#section6 .parallax__item__text", {autoAlpha: 0})
      ScrollTrigger.create({
          animation: ani6,
          trigger: "#section6",
          start: "top top",
          end: "+=4000",
          scrub: true,
          pin: true,
          anticipatePin: 1,
          markers: false
      });

      // 07 : 텍스트 제자리 애니메이션
      const ani7 = gsap.timeline();
      ani7.from("#section7 .t1", {autoAlpha: 0, duration: 2, y: 50}, "+=1")
          .from("#section7 .t2", {autoAlpha: 0, duration: 2, y: 50}, "+=1")
          .from("#section7 .t3", {autoAlpha: 0, duration: 2, y: 50}, "+=1")

      ScrollTrigger.create({
          animation: ani7,
          trigger: "#section7",
          start: "top top",
          end: "+=6000",
          scrub: true,
          pin: true,
          markers: false,
          anticipatePin: 1
      });

      // 08 : 텍스트 애니메이션
      const ani8 = gsap.timeline();
      ani8.from("#section8 .t1", {x: innerWidth * 1})
          .from("#section8 .t2", {x: innerWidth * -1})
          .from("#section8 .t3", {x: innerWidth * 1})
          .from("#section8 .i1", {x: innerWidth * 1, rotation: 360, scale: 1.5})

      ScrollTrigger.create({
          animation: ani8,
          trigger: "#section8",
          start: "top top",
          end: "+=4000",
          scrub: true,
          pin: true,
          markers: false,
          anticipatePin: 1
      });      

      //09 : 이미지 확대하기
      const ani9 = gsap.timeline();
      ani9.to("#section9 .ani-img", {scale: 13})
          .to("#section9 .ani-img", {autoAlpha: 0})

      ScrollTrigger.create({
          animation: ani9,
          trigger: "#section9",
          start: "top top",
          end: "+=4000",
          scrub: true,
          pin: true,
          markers: false,
          anticipatePin: 1
      });      
		</script>
	</body>
</html>
